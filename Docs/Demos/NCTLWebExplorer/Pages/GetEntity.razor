@page "/get-entity"
@page "/get-entity/{AccountPublicKey}"

@inherits ExplorerComponent;

<h3>Get Entity</h3>

<div class="row">
    <div class="col-lg-12">

        @if (!string.IsNullOrWhiteSpace(ErrorMessage))
        {
            <div class="alert alert-danger" role="alert">
                @ErrorMessage
            </div>
        }
        @if (!string.IsNullOrWhiteSpace(SuccessMessage))
        {
            <div class="alert alert-success" role="alert">
                @((MarkupString) SuccessMessage)
            </div>
        }

        <RadzenCard Class="w-100 mb-4">
            <div class="row mb-4">
                <h5>Enter a public key, an account hash or an entity address (with prefix):</h5>
                <div>
                    <RadzenTextBox @bind-Value="EntityAddress" Placeholder="entity..." Class="w-100"/>
                </div>
            </div>
            <div class="row mb-4">
                <RadzenRadioButtonList @bind-Value=@_queryMethod TValue="int"
                                       Orientation="Orientation.Horizontal" Change="@(OnQueryMethodChange)">
                    <Items>
                        <RadzenRadioButtonListItem Text="Get Entity" Value="0"/>
                        <RadzenRadioButtonListItem Text="Get Account Info" Value="1"/>
                    </Items>
                </RadzenRadioButtonList>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <RadzenButton Text="Get Entity" Click="@GetEntityBtnClicked" class="float-end"/>
                </div>
            </div>
        </RadzenCard>
    </div>
    <div class="col-lg-12 mt-3">
        <RpcJsonViewer @ref="JsonViewerInstance"></RpcJsonViewer>
    </div>
</div>